/*******************************************************************************
 * Containers_CoffeeMachine_Pot generated by Eliot.UELib using UELib.CLI.
 * Eliot.UELib Â© 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class Containers_CoffeeMachine_Pot extends Containers_Generic
	collapsecategories
	dependson(Electronics_Generic_CoffeeMachine);

enum ECoffeePotState
{
	COFFEE_Empty,
	COFFEE_Filling,
	COFFEE_Full
};

var() noexport Containers_CoffeeMachine_Pot.ECoffeePotState CoffeeState "State the pot starts out in.";
var Electronics_Generic_CoffeeMachine CoffeeMachine;

event PostVerifySelf()
{
	switch(CoffeeState)
	{
		// End:0x0D
		case 1:
		// End:0x1B
		case 2:
			FullPot();
			// End:0x2C
			break;
		// End:0x29
		case 0:
			EmptyPot();
			// End:0x2C
			break;
		// End:0xFFFF
		default:
			break;
	}
	super(dnDecoration).PostVerifySelf();
	return;
}

final function SetMachine(Electronics_Generic_CoffeeMachine NewMachine)
{
	CoffeeMachine = NewMachine;
	// End:0x27
	if(__NFUN_340__(CoffeeMachine, none))
	{
		DecoActivity(0, 'PotOnMachine');		
	}
	else
	{
		DecoActivity(0, 'PotOffMachine');
	}
	return;
}

final function EmptyPot()
{
	CoffeeState = 0;
	DecoActivity(0, 'EmptyPot');
	return;
}

final function FillPot()
{
	CoffeeState = 1;
	DecoActivity(0, 'FillPot');
	PushPendingActivity(,, 'FullPot');
	return;
}

final function FullPot()
{
	CoffeeState = 2;
	DecoActivity(0, 'ExecuteFullPot');
	// End:0x31
	if(__NFUN_340__(CoffeeMachine, none))
	{
		CoffeeMachine.PotNowFull();
	}
	return;
}

final function bool CurrentlyFilling()
{
	return __NFUN_173__(int(CoffeeState), int(1));
	return;
}

final function bool NeedRefill()
{
	switch(CoffeeState)
	{
		// End:0x0F
		case 0:
			return true;
		// End:0x14
		case 1:
		// End:0x1B
		case 2:
			return false;
		// End:0xFFFF
		default:
			return;
			break;
	}
}

function Destroyed()
{
	super(dnDecoration).Destroyed();
	// End:0x22
	if(__NFUN_340__(CoffeeMachine, none))
	{
		CoffeeMachine.PotGoneMIA();
	}
	return;
}
