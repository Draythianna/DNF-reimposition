/*******************************************************************************
 * dnControl_AlienQueen_FinishingMove generated by Eliot.UELib using UELib.CLI.
 * Eliot.UELib Â© 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class dnControl_AlienQueen_FinishingMove extends dnControl_TapPowered
	collapsecategories;

var AlienQueen AlienQueen;
var name GridName;

simulated function PostVerifySelf()
{
	super.PostVerifySelf();
	AlienQueen = AlienQueen(Owner);
	return;
}

simulated function AttachPawnSuccess(Pawn Attachee, optional bool bForced)
{
	super(dnControl).AttachPawnSuccess(Attachee, bForced);
	User.TickBefore = AlienQueen;
	// End:0x4C
	if(__NFUN_340__(AlienQueen, none))
	{
		AlienQueen.FadeOverlayEffect(0, 1);
	}
	return;
}

simulated function PlayUserAnim()
{
	super(dnControl).PlayUserAnim();
	// End:0x71
	if(__NFUN_148__(__NFUN_148__(__NFUN_342__(States[CurrentStateIndex].UserAnimName, 'None'), __NFUN_340__(AlienQueen, none)), __NFUN_340__(AlienQueen.AnimationController, none)))
	{
		AlienQueen.AnimationController.SetAnimState(States[CurrentStateIndex].UserAnimName);
	}
	return;
}

simulated function FailTimer()
{
	ControlEvent(, 'Fail');
	return;
}

simulated event Actor GetIKActor(name LimbID)
{
	return AlienQueen;
	return;
}

simulated event bool UsableSomething_AIShouldIgnoreUser()
{
	return true;
	return;
}

final simulated function SelfDestruct()
{
	__NFUN_614__();
	return;
}

event RegisterPrecacheComponents(PrecacheIndex PrecacheIndex)
{
	super.RegisterPrecacheComponents(PrecacheIndex);
	PrecacheIndex.__NFUN_1281__(GridName);
	PrecacheIndex.__NFUN_1277__(VoicePack, 'STR_Motion_Generic');
	return;
}

state() idle
{
	event BeginState()
	{
		__NFUN_607__(5, false, 'FailTimer');
		FindAndPlaySound('STR_Motion_Generic');
		FindAndFadeSound('STR_Motion_Generic', 0, 0.1, 1);
		super(Object).BeginState();
		return;
	}

	event EndState()
	{
		__NFUN_608__('FailTimer');
		FindAndFadeSound('STR_Motion_Generic', 3, 0, 1);
		super(Object).EndState();
		return;
	}

	function FullyLifted()
	{
		super(dnControl_TapPowered).FullyLifted();
		ControlEvent(, 'Finish');
		return;
	}

	function UpdateUserLift()
	{
		super(dnControl_TapPowered).UpdateUserLift();
		FindAndFadeSound('STR_Motion_Generic', 0.03, __NFUN_225__(0.1, __NFUN_195__(0.5, __NFUN_198__(UserLiftVal, 1))), 1);
		// End:0xAE
		if(__NFUN_342__(GridName, 'None'))
		{
			User.AnimationController.SetAnimGridState(GridName, UserLiftVal);
			// End:0xAE
			if(__NFUN_148__(__NFUN_340__(AlienQueen, none), __NFUN_340__(AlienQueen.AnimationController, none)))
			{
				AlienQueen.AnimationController.SetAnimGridState(GridName, UserLiftVal);
			}
		}
		return;
	}
	stop;
}

state() Fail
{
	simulated function AnimCallback_UserAnimEnd()
	{
		global.AnimCallback_UserAnimEnd();
		// End:0x23
		if(__NFUN_340__(User, none))
		{
			User.TickBefore = none;
		}
		DetachPawnSuccess(false);
		AnimCallback_UserDetached();
		return;
	}
	stop;
}

state() Finish
{
	simulated event BeginState()
	{
		super(Object).BeginState();
		// End:0x2D
		if(__NFUN_340__(AlienQueen, none))
		{
			GlobalTrigger(AlienQueen.StrengthTapCompleteEvent, User, self);
		}
		return;
	}

	simulated function AnimCallback_UserAnimEnd()
	{
		InternalControlRemapper.bCanOffsetView = true;
		return;
	}
	stop;
}

state() complete
{
	event BeginState()
	{
		super(Object).BeginState();
		__NFUN_607__(1, false, 'SelfDestruct');
		return;
	}
	stop;
}

defaultproperties
{
	GridName=AlienQueen_FinishingMove_Grid
	bForceDrop=false
	RateOfGain=0.1
	States=/* Array type was not detected. */
}