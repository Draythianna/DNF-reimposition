/*******************************************************************************
 * UDukeProgressBar generated by Eliot.UELib using UELib.CLI.
 * Eliot.UELib Â© 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class UDukeProgressBar extends UWindowDialogControl;

var Color BarColor;
var Color BarEndColor;
var float BarHeight;
var string HeaderText;
var int StartValue;
var int EndValue;
var int CurrentValue;
var bool bAutoSizeBar;

function Created()
{
	super.Created();
	return;
}

function SetStartEnd(int Start, int End)
{
	StartValue = Start;
	EndValue = End;
	return;
}

function SetCurrentValue(int Value)
{
	CurrentValue = Value;
	return;
}

function Paint(Canvas C, float X, float Y)
{
	local Texture White;
	local Vector P1, P2;
	local float BarWidth, XL, YL;

	White = class'WhiteTexture';
	super(UWindowWindow).Paint(C, X, Y);
	C.DrawColor = BarEndColor;
	P1.X = WinLeft;
	P1.Y = WinTop;
	P2.X = WinLeft;
	P2.Y = __NFUN_198__(WinTop, WinHeight);
	C.__NFUN_1241__(P1, P2);
	P1.X = __NFUN_198__(WinLeft, WinWidth);
	P1.Y = WinTop;
	P2.X = __NFUN_198__(WinLeft, WinWidth);
	P2.Y = __NFUN_198__(WinTop, WinHeight);
	C.__NFUN_1241__(P1, P2);
	C.DrawColor = WhiteColor;
	C.Font = C.MedFont;
	ClipText(C, 2, -5, string(StartValue),, class'UWindowScene'.default.TTFontScale, class'UWindowScene'.default.TTFontScale);
	TextSize(C, string(EndValue), XL, YL, class'UWindowScene'.default.TTFontScale, class'UWindowScene'.default.TTFontScale);
	ClipText(C, __NFUN_199__(__NFUN_199__(WinWidth, XL), float(2)), -5, string(EndValue),, class'UWindowScene'.default.TTFontScale, class'UWindowScene'.default.TTFontScale);
	// End:0x1F9
	if(__NFUN_173__(EndValue, 0))
	{
		return;
	}
	C.DrawColor = BarColor;
	// End:0x229
	if(bAutoSizeBar)
	{
		BarHeight = __NFUN_195__(WinHeight, 0.2);
	}
	C.__NFUN_1250__(0, __NFUN_196__(__NFUN_199__(WinHeight, BarHeight), 2));
	BarWidth = __NFUN_196__(float(CurrentValue), float(EndValue));
	C.__NFUN_1234__(White, __NFUN_195__(WinWidth, BarWidth), BarHeight, 0, 0, float(White.__NFUN_1191__()), float(White.__NFUN_1192__()));
	C.DrawColor = WhiteColor;
	TextSize(C, string(CurrentValue), XL, YL, __NFUN_195__(class'UWindowScene'.default.TTFontScale, 0.75), __NFUN_195__(class'UWindowScene'.default.TTFontScale, 0.75));
	ClipText(C, __NFUN_199__(__NFUN_195__(WinWidth, BarWidth), XL), __NFUN_199__(WinHeight, YL), string(CurrentValue),, __NFUN_195__(class'UWindowScene'.default.TTFontScale, 0.75), __NFUN_195__(class'UWindowScene'.default.TTFontScale, 0.75));
	return;
}

defaultproperties
{
	BarColor=(B=36,G=1,R=255,A=37)
	BarEndColor=(B=36,G=1,R=192,A=37)
	BarHeight=10
	bAutoSizeBar=true
}