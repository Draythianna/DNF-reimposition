/*******************************************************************************
 * dnDecal generated by Eliot.UELib using UELib.CLI.
 * Eliot.UELib Â© 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class dnDecal extends Decal
	native
	notplaceable
	hidecategories(Collision,Filter,HeatVision,Interactivity,Karma,KarmaObject,KarmaOverride,Lighting,Networking,Sound,SpawnOnDestroyed);

var() array<MaterialEx> Decals;
var() float RandomDrawscale;
var bool bScaleByOwner;
var bool bStartedLife;
var bool bImportant;

static event MaterialEx GetMaterial()
{
	return default.Decals[__NFUN_187__(string(default.Decals))];
	return;
}

static event MaterialEx GetIndexedMaterial(int Index)
{
	return default.Decals[Index];
	return;
}

static event int GetNumDecals()
{
	return string(default.Decals);
	return;
}

simulated event Initialize()
{
	local float BaseDrawscale;

	// End:0x0B
	if(bInitialized)
	{
		return;
	}
	// End:0x1C
	if(__NFUN_171__(string(Decals), 0))
	{
		__NFUN_614__();
		return;
	}
	Texture = Decals[__NFUN_187__(string(Decals))];
	ProjTexture = Texture;
	BaseDrawscale = __NFUN_198__(DrawScale, __NFUN_195__(__NFUN_222__(), RandomDrawscale));
	// End:0x7E
	if(__NFUN_148__(__NFUN_340__(Owner, none), bScaleByOwner))
	{
		__NFUN_207__(BaseDrawscale, Owner.DrawScale);
	}
	__NFUN_591__(BaseDrawscale);
	__NFUN_605__(1, false, 'DestroyDecal');
	super.Initialize();
	return;
}

final simulated function DestroyDecal()
{
	// End:0x65
	if(__NFUN_145__(bStartedLife))
	{
		RemoteRole = ROLE_None;
		bStartedLife = true;
		// End:0x4A
		if(Level.bDropDetail)
		{
			__NFUN_605__(__NFUN_198__(5, __NFUN_195__(2, __NFUN_222__())), false, 'DestroyDecal');			
		}
		else
		{
			__NFUN_605__(__NFUN_198__(18, __NFUN_195__(5, __NFUN_222__())), false, 'DestroyDecal');
		}
		return;
	}
	// End:0xCA
	if(Level.bDropDetail)
	{
		// End:0xB7
		if(__NFUN_150__(__NFUN_201__(__NFUN_199__(Level.TimeSeconds, __NFUN_854__()), 0.35), __NFUN_148__(__NFUN_145__(bImportant), __NFUN_200__(__NFUN_222__(), 0.2))))
		{
			__NFUN_614__();			
		}
		else
		{
			__NFUN_605__(1, true, 'DestroyDecal');
			return;
		}		
	}
	else
	{
		// End:0xF8
		if(__NFUN_200__(__NFUN_199__(Level.TimeSeconds, __NFUN_854__()), 1))
		{
			__NFUN_605__(5, true, 'DestroyDecal');
			return;
		}
	}
	__NFUN_614__();
	return;
}

event RegisterPrecacheComponents(PrecacheIndex PrecacheIndex)
{
	local int i;

	super(Projector).RegisterPrecacheComponents(PrecacheIndex);
	i = __NFUN_166__(string(Decals), 1);
	J0x1A:

	// End:0x47 [Loop If]
	if(__NFUN_172__(i, 0))
	{
		PrecacheIndex.__NFUN_1269__(Decals[i]);
		__NFUN_185__(i);
		// [Loop Continue]
		goto J0x1A;
	}
	return;
}

defaultproperties
{
	DrawScale=0.35
}