/*******************************************************************************
 * TriggerStinger generated by Eliot.UELib using UELib.CLI.
 * Eliot.UELib Â© 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class TriggerStinger extends Triggers
	collapsecategories
	hidecategories(Filter,Interactivity,Karma,Lighting,Networking,Sound);

var SSoundInfo Stinger;
var() noexport Sound StingerSound "Stinger Sound";
var() noexport float PlayDelay "How long before the music will fade out prior to playing the stinger.";
var() noexport float FadeOutTime "How long it takes for the music to fade out.";
var() noexport name MixerGroupOverride "Mixer group to use instead of SoundFX.";
var() noexport name DonePlayingEvent "What event to trigger when the sound ends (should be musicTrigger).";

event Trigger(Actor Other, Pawn EventInstigator)
{
	local float Duration;

	__NFUN_699__("",, FadeOutTime);
	Stinger.SimpleSingleSound = StingerSound;
	Stinger.Delay = PlayDelay;
	Stinger.MixerGroupOverride = MixerGroupOverride;
	Duration = PlaySoundInfo(3, Stinger);
	__NFUN_607__(__NFUN_198__(Duration, PlayDelay), false, 'CallDonePlayingEvent');
	return;
}

final function CallDonePlayingEvent()
{
	GlobalTrigger(DonePlayingEvent);
	return;
}

event RegisterPrecacheComponents(PrecacheIndex PrecacheIndex)
{
	PrecacheIndex.__NFUN_1274__(StingerSound);
	return;
}

defaultproperties
{
	Stinger=(bAllowRepeats=false,bPlayAsAmbient=false,MixerGroupOverride=None,SimpleSingleSound=none,Sounds=/* Array type was not detected. */)
	StingerSound='a_stingers.Combat.Combat_Over_01'
	PlayDelay=2
	FadeOutTime=0.5
	MixerGroupOverride=Special
}