/*******************************************************************************
 * GasPodManager generated by Eliot.UELib using UELib.CLI.
 * Eliot.UELib Â© 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class GasPodManager extends Actor
	collapsecategories
	notplaceable;

var array<dnDecoration> GasPods;
var array<float> SensorRadiiSq;
var float UpdateTime;

function AddGasPod(dnDecoration gaspod, float SensorRadius)
{
	// End:0x38
	if(__NFUN_148__(__NFUN_340__(Level.__NFUN_1161__(), none), __NFUN_169__(int(Level.__NFUN_1161__().Role), int(ROLE_Authority))))
	{
		return;
	}
	GasPods[GasPods.Add(1)] = gaspod;
	SensorRadiiSq[SensorRadiiSq.Add(1)] = __NFUN_195__(SensorRadius, SensorRadius);
	return;
}

event Tick(float DeltaSeconds)
{
	super.Tick(DeltaSeconds);
	// End:0x43
	if(__NFUN_148__(__NFUN_340__(Level.__NFUN_1161__(), none), __NFUN_169__(int(Level.__NFUN_1161__().Role), int(ROLE_Authority))))
	{
		return;
	}
	__NFUN_210__(UpdateTime, DeltaSeconds);
	// End:0x6F
	if(__NFUN_202__(UpdateTime, 0))
	{
		UpdateTime = default.UpdateTime;
		GasPodDistanceCheck();
	}
	return;
}

function GasPodDistanceCheck()
{
	local Pawn P;
	local int i;
	local bool bSensed;

	J0x00:
	// End:0xE3 [Loop If]
	if(__NFUN_169__(i, string(GasPods)))
	{
		bSensed = false;
		P = Level.PawnList;
		J0x2D:

		// End:0xB8 [Loop If]
		if(__NFUN_340__(P, none))
		{
			// End:0xA0
			if(__NFUN_340__(DukeMultiPlayer(P), none))
			{
				// End:0xA0
				if(__NFUN_200__(__NFUN_252__(__NFUN_239__(P.Location, GasPods[i].Location)), SensorRadiiSq[i]))
				{
					GasPods[i].OnSenseHumanPawn();
					bSensed = true;
				}
			}
			P = P.NextPawn;
			// [Loop Continue]
			goto J0x2D;
		}
		// End:0xD9
		if(__NFUN_145__(bSensed))
		{
			GasPods[i].OnUnsenseHumanPawn();
		}
		__NFUN_184__(i);
		// [Loop Continue]
		goto J0x00;
	}
	return;
}

defaultproperties
{
	UpdateTime=1
	bHidden=true
	TickStyle=1
	RemoteRole=0
}